# Метрики С. Чидамбера и К. Кемерера

| Класс               | число методов | полей | CBO | RFC | LCOM |
|---------------------|---------------|-------|-----|-----|------|
| GameController      | 1             | 1     | 3   | 2   | 0    |
| LoginController     | 3             | 1     | 5   | 7   | 1    |
| RouletteService     | 2             | 3     | 6   | 8   | 1    |
| Bet                 | 6             | 4     | 1   | 6   | 7    |
| Result              | 2             | 3     | 1   | 2   | 0    |
| Roulette            | 5             | 5     | 6   | 8   | 0    |
| User                | 5             | 4     | 0   | 5   | 4    |

* WMC: считаем как число методов. (в таблице)
* DIT, NOC: 0, нет наследования

### Анализ
1. Написана программа довольна маленькая, поэтому число методов во всех классах не большое. Если при 
увеличении программы это сохраниться будет хорошо. То же самое касается наследования (DIT, NOC)
2. У классов `RouletteService` и `Roulette` CBO высоковат, если учитывать что всего 
методов и классов не много. 

   * Для `RouletteService` основная нагрузка происходит за счет вызовов методов класса `Bet`, 
   для получения информации о ставке. Имеет смысл объединить ее в отдельную переменную `betInfo`. Также можно 
   вынести данные вычисления в отдельный метод в классе `Bet` или в класс `BetService`, если подобных вычислений 
   станет (ожидается) больше
   * `Roulette` является замещением базы данных, поэтому хранит информацию о всех пользователях и ставках, 
   а также оперирует ей, добавляет пользователей, делает ставку, добавляет ставку в массив. Большинство этих
   действий можно вынести в классы `User` и `Bet` или в уже упомянутые `UserService` и `BetService`. Таким образом
   можно будет разделить зависимости
3. Опять-таки, классы маленькие и RFC не статистически не высокое, но в рамках данной программы выделяются
`RouletteService` и `Roulette`, по тем же причинам, что и CBO. Представленное там решение подойдет 
и в данном случае. 
4. LCOM хороший для большинства классов, кроме `Bet` и `User`. В основном это потому что все методы которые там есть, 
это сеттеры и геттеры отдельных полей. Это само по себе не проблемы, но индикатор того что число полей большое.
Для `Bet` это можно решить, объединив или вынесев информацию о ставке (тип, число) в общее поле или отдельный класс.
5. И последнее, можно заметить что для маленького кода в классе `Roulette` много полей. Большинство из них относиться 
к ставкам, их видам и вычислениям. Данная информация должна храниться отдельно поскольку логически плохо связана с 
общим назначением класса.

Посмотрим на все метрики вместе, больше всего проблем в классах `RouletteService`, `Roulette` и `Bet`. В основном
они связаны с отсутствием дополнительных классов, которые бы позволили более грамотно разделить данные и задачи.
Такими классами могут стать `UserService` и `BetService`. Это позволит решить проблемы с перегрузкой классов `Bet` и `User`, разделить логически не связанные операции в классе
`Roulette` и `RouletteService`, адрессовать их к соответсвующим сущностям. Также поможет выделение информации о ставках в отдельные
конструкции. Это решит проблемы с лишней информацией в классе `Roulette` и возможно c неструктурированной информацией в классе `Bet`





